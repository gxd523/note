[TOC]

### static使用范围
* 成员变量
* 方法
* 非匿名内部类
* 静态代码块

### 类加载过程
#### 加载
> JVM把class文件加载到内存，将这些类信息静态数据放入方法区，在堆中生成class对象。

#### 验证
> 确保加载的类信息符合jvm规范，没有安全方面的问题。

#### 准备
> 正式为类变量分配内存并设置类变量初始值的阶段，这些内存都将在方法区中进行分配。

#### 解析
> 解析阶段是指虚拟机将常量池中的符号引用替换为直接引用的过程。

#### 初始化
> 初始化阶段是执行类构造器方法的过程。
>
> 注意：不实例化对象，只调用静态方法，不会执行构造函数。

##### 类的主动引用会导致类的初始化
* `new`一个类的对象
* 调用静态成员(`final`常量除外)、静态方法
* 使用`java.lang.reflect`包的方法对类进行反射调用
* 当初始化一个类，如果其父类没有被初始化，则先初始化他的父类
* 当要执行某个程序时，一定先启动`main()`所在的类

##### 类的被动引用不会导致类的初始化
* 访问父类的静态变量
* 初始化数组，例如`A[] a = new A[5];`不会初始化A
* 访问常量(常量在编译阶段就已存入方法区)