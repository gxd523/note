## 启动优化
### 冷启动
`ClickEvent`-->`IPC`-->`Process.start`-->`ActivityThread`-->`bindApplication`-->`LifeCycle`-->`ViewRootImpl`
### 热启动(最快)
`后台`-->`前台`
### 温启动
`LifeCycle`

### 测量启动时间
* adb方式(4.4以前，不精确)
	* `adb shell am start -W 包名/category为LAUNCHER的Activity的全名`
	* ThisTime：最后一个Activity启动耗时
	* TotalTime：所有Activity启动耗时
	* WaitTimeTime：AMS启动Activity的总耗时
* Log(4.4以后)
	通过关键字`Displayed`并筛选为`No Filters`
* 手动打点
	在`attachBaseContext()开始，第一条数据展示结束，例如在itemView.getViewTreeObserver().addOnPreviewDrawListener()，而不是`onWindowFocusChanged()`首帧时间结束

### traceview
* 使用方法
	`Debug.startMethodTracing(path);`、`Debug.stopMethodTracing();`
* Wall Clock Time：真正的执行时间
* Thread Time：仅指CPU执行时间
* 橙色：系统API、绿色：自身API、蓝色：三方API
### systrace
* 使用方法
	* `TraceCompat.beginSection("path")`、`TraceCompat.endSection() `
	* 命令行执行：`python /Users/guoxiaodong/Library/Android/sdk/platform-tools/systrace/systrace.py -b 99999 -t 10 -a com.dangbei.health.fitness -o aaa.html sched gfx view wm am app`
		* -b：用于限制trace总大小，默认无上限，单位kb
		* -t：执行时间，默认5s。绝对不要把时间设的太短导致你操作没完Trace就跑完了，这样会出现Did not finish 的标签，分析数据就基本无效了
		* -a：这个选项可以开启指定包名App中自定义Trace Label的Trace功能。也就是说，如果你在代码中使用了Trace.beginSection("tag"), Trace.endSection；默认情况下，你的这些代码是不会生效的，因此，这个选项一定要开启
		* -o：指定trace数据文件的输出路径，如果不指定就是当前目录的trace.html
		* sched：CPU调度的信息，非常重要；你能看到CPU在每个时间段在运行什么线程；线程调度情况，比如锁信息。

### AspectJ
